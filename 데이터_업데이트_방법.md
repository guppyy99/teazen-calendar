# 📊 데이터 업데이트 방법 (간단!)

API 키 없이도 작동하는 **JSON 파일 방식**으로 변경했습니다!

## 🎯 데이터 업데이트 3단계

### 1단계: 구글 시트를 CSV로 다운로드

1. 구글 시트 열기: https://docs.google.com/spreadsheets/d/11suzDWw5CjAnLxiwVHbdn-xUkttdtUMmoxDMZvxqkiA/
2. 상단 메뉴: **파일** → **다운로드** → **쉼표로 구분된 값(.csv)**
3. 다운로드된 파일을 프로젝트 루트에 **`data.csv`**로 저장

### 2단계: JSON으로 변환

```bash
npm run convert
```

이 명령어 하나면 `public/data.json` 파일이 자동 생성됩니다!

### 3단계: 배포

```bash
npm run deploy
```

완료! 🎉

---

## 🔄 자동화된 워크플로우

```bash
# 1. 구글 시트 → CSV 다운로드 → data.csv로 저장
# 2. 터미널에서:
npm run convert  # CSV → JSON 변환
npm run deploy   # 배포
```

---

## 💡 장점

### ✅ API 키 필요 없음
- 환경변수 설정 불필요
- Vercel/GitHub Pages 어디서나 작동
- 보안 걱정 없음

### ✅ 빠른 로딩
- API 호출 없이 로컬 파일 사용
- 네트워크 지연 없음
- 안정적

### ✅ 오프라인 작동
- 인터넷 없이도 개발 가능
- API 한도 걱정 없음

---

## 🔧 스크립트 설명

### `npm run convert` 하면:

1. `data.csv` 파일 읽기
2. 헤더 파싱
3. 각 행을 KeywordData 형식으로 변환
4. `public/data.json` 저장
5. 완료 메시지 출력

### 출력 예시:
```
📊 헤더: [키워드, 남성(%), 여성(%), ...]
✅ 월 컬럼 시작: 11 (2021-11)
✅ 완료! 1250개 데이터를 public/data.json에 저장했습니다.
📦 파일 크기: 245.67 KB
```

---

## 📝 data.csv 형식

구글 시트를 그대로 CSV로 다운로드하면 됩니다:

```
키워드	남성(%)	여성(%)	연령대별 특성	12세 이하(%)	...	2021-11	2021-12	...
도미노피자	38.16	61.83		0.04	1.94	...	1086800	1905900	...
```

**탭(`\t`)으로 구분**됩니다.

---

## ⚠️ 참고

- `data.csv`는 `.gitignore`에 추가 (매번 새로 다운로드)
- `public/data.json`은 Git에 커밋됨
- 데이터 업데이트 시마다 convert + deploy 실행

---

## 🚀 Vercel 배포 시

Vercel은 이제 환경변수 없이도 작동합니다!

1. GitHub에 푸시
2. Vercel이 자동 배포
3. `public/data.json` 사용

**간단! 안정적! 빠름!** ✨

**Copyright © FINFLOW**

